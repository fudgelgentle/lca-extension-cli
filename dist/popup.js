!function(){function e(){let e=document.getElementById("search-phone").value.toUpperCase();const o=document.querySelector(".phone-model-container").children;for(let n=0;n<o.length;n++)(o[n].textContent||o[n].innerText).toUpperCase().indexOf(e)>-1?o[n].style.display="":o[n].style.display="none"}function o(e){const o=parseFloat(e);return e.includes("TB")?1024*o:e.includes("GB")?o:e.includes("MB")?o/1024:o}function n(e){e.classList.remove("hidden"),e.classList.add("visible")}function t(e){e.classList.add("hidden"),e.classList.remove("visible")}window.addEventListener("load",(function(){(function(){const e="iPhone 15 Pro",o=[{storage:"128 GB",co2e:"12 kg CO2e"},{storage:"256 GB",co2e:"24 kg CO2e"},{storage:"512 GB",co2e:"48 kg CO2e"},{storage:"1 TB",co2e:"96 kg CO2e"}],n=document.querySelector(".phone-spec-container"),t=o,c=e;n.innerHTML+=`\n      <p class="phone-spec-title eco-bold" id="currentPhone"><b>${c} Carbon Emissions</b></p>\n    `;let s=t[0];t.forEach((e=>{parseFloat(e.co2e.split(" ")[0])<parseFloat(s.co2e.split(" ")[0])&&(s=e)})),t.forEach(((e,o)=>{const t=parseFloat(e.co2e.split(" ")[0]),c=parseFloat(s.co2e.split(" ")[0]),r=(t-c)/c*100,a=e.storage===s.storage;n.innerHTML+=`\n        <div class="details-container fz-16" id=${o+"-c"}>\n          <div class="flex-center ${a?"most-green":""} cg-4">\n            <p class="eco-bold"><b>${e.storage} </b>&nbsp;</p>\n            ${a?'<img src="../assets/img/most-green-icon.png" class="icon-16" alt="Most eco-friendly option">':`<span class="red-text fz-12">(+${r.toFixed(0)}% emissions)</span>`}\n          </div>\n          <div class="flex-center co2e-data-container pd-8 br-8 cg-4 lexend-reg">\n            <p class="margin-0">${e.co2e}</p>\n            <img src="../assets/img/equivalent-icon.png" class="icon-16" alt="Equivalent to">\n            <div class="flex-center cg-4">\n              <p class="margin-0 grey-text">${(.88*t).toFixed(1)} kg of trash burned</p>\n              <img src="../assets/img/fire-grey-icon.png" class="icon-16" alt="Trash">\n            </div>\n          </div>\n        </div>\n        `}))})(),function(){const e=document.querySelector(".compare-btn"),c=document.querySelector(".compare-phone"),s=document.querySelector(".compare-container"),r=document.querySelector(".slide-content");e.addEventListener("click",(async()=>{await async function(){const e=[{id:1,device:"Samsung Galaxy S24 Ultra",carbonFootprint:[{storage:"256 GB",co2e:"26 kg CO2e"},{storage:"512 GB",co2e:"50 kg CO2e"},{storage:"1 TB",co2e:"98 kg CO2e"}]},{id:2,device:"Samsung Galaxy Z Flip 5",carbonFootprint:[{storage:"256 GB",co2e:"22 kg CO2e"},{storage:"512 GB",co2e:"44 kg CO2e"}]},{id:3,device:"OnePlus 12R",carbonFootprint:[{storage:"128 GB",co2e:"18 kg CO2e"},{storage:"256 GB",co2e:"36 kg CO2e"}]},{id:4,device:"Google Pixel 8 Pro",carbonFootprint:[{storage:"128 GB",co2e:"20 kg CO2e"},{storage:"256 GB",co2e:"40 kg CO2e"},{storage:"512 GB",co2e:"80 kg CO2e"}]}],o=document.querySelector(".phone-model-container");o.innerHTML="",e.forEach(((n,t)=>{const c=document.createElement("p");c.className="phone-model-text br-4"+(t===e.length-1?" last":""),c.id=n.id,c.textContent=n.device,o.appendChild(c)}))}(),c.classList.add("down"),s.classList.add("hide"),r.classList.add("slide-down"),function(){const e=document.querySelector(".phone-model-container").children;Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{const c=parseInt(e.target.id),s=document.querySelector(".compare-phone"),r=document.querySelector(".compare-container"),a=document.querySelector(".slide-content");s.classList.remove("down"),r.classList.remove("hide"),a.classList.remove("slide-down"),function(e){const c="iPhone 15 Pro",s=[{storage:"128 GB",co2e:"12 kg CO2e"},{storage:"256 GB",co2e:"24 kg CO2e"},{storage:"512 GB",co2e:"48 kg CO2e"},{storage:"1 TB",co2e:"96 kg CO2e"}],r=[{id:1,device:"Samsung Galaxy S24 Ultra",carbonFootprint:[{storage:"256 GB",co2e:"26 kg CO2e"},{storage:"512 GB",co2e:"50 kg CO2e"},{storage:"1 TB",co2e:"98 kg CO2e"}]},{id:2,device:"Samsung Galaxy Z Flip 5",carbonFootprint:[{storage:"256 GB",co2e:"22 kg CO2e"},{storage:"512 GB",co2e:"44 kg CO2e"}]},{id:3,device:"OnePlus 12R",carbonFootprint:[{storage:"128 GB",co2e:"18 kg CO2e"},{storage:"256 GB",co2e:"36 kg CO2e"}]},{id:4,device:"Google Pixel 8 Pro",carbonFootprint:[{storage:"128 GB",co2e:"20 kg CO2e"},{storage:"256 GB",co2e:"40 kg CO2e"},{storage:"512 GB",co2e:"80 kg CO2e"}]}].find((o=>o.id===e)),a=document.querySelector(".side-by-side-section"),i=document.querySelector(".phone-spec-container");let d=document.querySelector(".side-by-side-spec-container");d.innerHTML="",d.innerHTML+=`\n      <p class="margin-0 side-phone-text fz-16"><b>${c}</b></p>\n      <p class="margin-0 side-phone-text fz-16"><b>${r.device}</b></p>\n      <img src="../assets/img/red-trash-icon.png" class="icon-16 trash-btn" alt="remove device">\n    `;let l=function(e,n){const t=new Set([...e.map((e=>e.storage)),...n.map((e=>e.storage))]),c=Array.from(t).sort(((e,n)=>o(e)-o(n))),s=[],r=[];c.forEach((o=>{const t=e.find((e=>e.storage===o)),c=n.find((e=>e.storage===o));s.push(t||{storage:o,co2e:"--"}),r.push(c||{storage:o,co2e:"--"})}));for(let e=0;e<s.length;e++)"--"==s[e].co2e&&(s[e].storage="--"),"--"==r[e].co2e&&(r[e].storage="--");return[s,r]}(s,r.carbonFootprint),g=l[0],p=l[1];for(let e=0;e<g.length;e++)d.innerHTML+=`\n        <div class="details-container fz-16">\n          <div class="flex-center most-green cg-4">\n            <p><b>${g[e].storage}</b>&nbsp;</p>\n            ${0===e?'<img src="../assets/img/most-green-icon.png" class="icon-16" alt="Most eco-friendly option">':""}\n          </div>\n          <div class="flex-center co2e-data-container pd-8 br-8 cg-4 lexend-reg">\n            <p class="margin-0">${g[e].co2e}</p>\n          </div>\n        </div>\n        <div class="details-container fz-16">\n          <div class="flex-center most-green cg-4">\n            <p><b>${p[e].storage}</b>&nbsp;</p>\n            ${0===e?'<img src="../assets/img/most-green-icon.png" class="icon-16" alt="Most eco-friendly option">':""}\n          </div>\n          <div class="flex-center co2e-data-container pd-8 br-8 cg-4 lexend-reg">\n            <p class="margin-0">${p[e].co2e}</p>\n          </div>\n        </div>\n      `;const m=d.querySelector(".trash-btn");console.log("trashBtn: ",m),m.addEventListener("click",(()=>{t(a),n(i)})),document.querySelector(".lca-banner").insertAdjacentElement("afterend",a),t(i),n(a)}(c)}))}))}()})),document.querySelector(".close-phone-btn").addEventListener("click",(()=>{c.classList.remove("down"),s.classList.remove("hide"),r.classList.remove("slide-down")}))}(),document.getElementById("search-phone").addEventListener("keyup",e),document.querySelector(".close-container").addEventListener("click",(()=>{window.close()}))}))}();